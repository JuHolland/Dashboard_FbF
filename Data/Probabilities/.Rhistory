month_rainfall <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Outputs/Rainfall Accumulation/month_rainfall.txt")
View(month_rainfall)
dates <- colnames(month_rainfall)
dates
month_rainfall_long <- as.data.frame(as.matrix(NA,nrow=length(dates),ncol=2))
colnames(month_rainfall_long) <- c("Dates","Value")
colnames(month_rainfall_long) <- c("Dates","Value")
month_rainfall_long$Dates <- substr(dates,2,12)
colnames(month_rainfall_long) <- c("Dates","Value")
month_rainfall_long$Dates <- substr(colnames(month_rainfall),2,12)
month_rainfall_long <- as.data.frame(matrix(NA,nrow=length(dates),ncol=2))
colnames(month_rainfall_long) <- c("Dates","Value")
month_rainfall_long$Dates <- substr(colnames(month_rainfall),2,12)
month_rainfall_long$Dates <- as.Date(month_rainfall_long$Dates , "%Y.%m.%d")
View(month_rainfall_long)
View(month_rainfall)
# Step 4: Long format data for Chibuto ------------------------------------------------
month_dryspell <- read.csv("~/Documents/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Outputs/Dry spell/month_dryspell.txt")
# Step 4: Long format data for Chibuto ------------------------------------------------
month_dryspell <- read.csv("~/Documents/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Outputs/Dry spell/month_dryspell.txt")
month_dryspell <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Outputs/Dry spell/month_dryspell.txt")
View(month_dryspell)
# from df to raster
district <- as.data.frame(matrix(NA,nrow=nrow(month_rainfall),ncol=length(month_rainfall)+2))
district[,1:2] <- month_dryspell[,1:2]
district[,3:ncol(district)] <- month_rainfall
View(district)
colnames(district)[3:ncol(district)] <- colnames(month_rainfall)
View(district)
#raster
r <- rasterFromXYZ(district[,1:ncol(district)])
Admin2 <- readOGR( dsn= "~/Documents/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Shapefiles/Admin/moz_admbnda_2019_SHP/" , layer="moz_admbnda_adm2_2019",  verbose=FALSE) # shapefile mozambique ADMIN2
library(raster)
#raster
r <- rasterFromXYZ(district[,1:ncol(district)])
Admin2 <- readOGR( dsn= "~/Documents/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Shapefiles/Admin/moz_admbnda_2019_SHP/" , layer="moz_admbnda_adm2_2019",  verbose=FALSE) # shapefile mozambique ADMIN2
require(rgdal)
Admin2 <- readOGR( dsn= "~/Documents/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Shapefiles/Admin/moz_admbnda_2019_SHP/" , layer="moz_admbnda_adm2_2019",  verbose=FALSE) # shapefile mozambique ADMIN2
Admin2 <- readOGR( dsn= "C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Shapefiles/Admin/moz_admbnda_2019_SHP/" , layer="moz_admbnda_adm2_2019",  verbose=FALSE) # shapefile mozambique ADMIN2
Admin2 <- readOGR( dsn= "C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Shapefiles/Admin/moz_admbnda_2019_SHP/" , layer="moz_admbnda_adm2_2019",  verbose=FALSE) # shapefile mozambique ADMIN2
library(knitr)
library(kableExtra)
library(flexdashboard)
library(tidyverse)
library(plotly)
library(crosstalk)
library(ggthemes)
library(dplyr)
library(DT)
library(tidyverse)
library(reactable)
library(reshape2)
knitr::opts_chunk$set(echo = FALSE)
knitr::include_graphics("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Images/FbF.png")
knitr::include_graphics("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Images/FbF.png")
knitr::include_graphics("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Images/Summary_methodology_FbF.png")
knitr::include_graphics("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Images/Summary_methodology_FbF.png")
knitr::include_graphics("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Images/FbF.png")
knitr::include_graphics("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Images/Summary_methodology_FbF.png")
library(knitr)
library(kableExtra)
library(flexdashboard)
library(tidyverse)
library(plotly)
library(crosstalk)
library(ggthemes)
library(dplyr)
library(DT)
library(tidyverse)
library(reactable)
library(reshape2)
knitr::opts_chunk$set(echo = FALSE)
setwd("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics")
SPI_AUROC <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_AUROC.Gaza.csv")
SPI_Bias <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_Bias.Gaza.csv")
SPI_HSS <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_HSS.Gaza.csv")
SPI_Kuipers <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_Kuipers.Gaza.csv")
SPI_outcomes <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_outcomes.Gaza.csv")
View(SPI_Bias)
SPI_probabilities <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities/SPI_probabilities.Gaza.csv")
SPI_observations <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Observations/SPI_observations.csv")
SPI_observations <- SPI_observations[SPI_observations$District%in%c("Chibuto","Guija"),]
setwd("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics")
SPI_AUROC <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_AUROC.Gaza.csv")
SPI_Bias <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_Bias.Gaza.csv")
SPI_HSS <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_HSS.Gaza.csv")
SPI_Kuipers <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_Kuipers.Gaza.csv")
SPI_outcomes <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Metrics/SPI_outcomes.Gaza.csv")
SPI_probabilities.ad <- SPI_probabilities
SPI_probabilities.ad$Year_of_issue <- ifelse(SPI_probabilities$Index %in% c("SPI NDJ","SPI DJF","SPI JFM","SPI DJ","SPI JF","SPI FM") & SPI_probabilities$Month_of_issue %in% c("07","08","09","10","11","12"), SPI_probabilities$Year_of_issue+1,SPI_probabilities$Year_of_issue)
colnames(SPI_observations)[2] <- "Actual"
colnames(SPI_probabilities.ad)[1] <- "Years"
SPI_observations.probab <- merge(SPI_probabilities.ad,SPI_observations,by=c("Years","Index","District"))
SPI_observations.probab <- SPI_observations.probab[,c("District","Category","Month_of_issue","Years","Index","Actual","Probability")]
SPI_observations.probab$Actual_Drought <- 0
SPI_observations.probab$Actual_Drought <- ifelse(SPI_observations.probab$Category=="Severo" & SPI_observations.probab$Actual<= -1,1,ifelse(SPI_observations.probab$Category=="Moderado" & SPI_observations.probab$Actual<= -0.85,1,ifelse(SPI_observations.probab$Category=="Moderado" & SPI_observations.probab$Actual<= -0.68,1,SPI_observations.probab$Actual_Drought)))
SPI_observations.probab <- SPI_observations.probab[,c("District","Category", "Month_of_issue","Index","Years","Actual","Probability" ,"Actual_Drought")]
# merge with stats
colnames(SPI_HSS)[3] <- "HEIDKE"
colnames(SPI_Bias)[3] <- "BIAS"
colnames(SPI_Kuipers)[3] <- "KUIPERS"
Metrics <- merge(SPI_HSS,SPI_Bias,by=c("Index","Trigger","Month_of_issue", "District", "Category" ))
Metrics <- merge(Metrics,SPI_Kuipers,by=c("Index","Trigger","Month_of_issue", "District", "Category" ))
Metrics <- merge(Metrics,SPI_outcomes,by=c("Index","Trigger","Month_of_issue", "District", "Category" ))
Metrics <- merge(Metrics,SPI_observations.probab,by=c("Index","Month_of_issue", "District", "Category"))
Metrics <- merge(Metrics,SPI_AUROC,by=c("Index","Month_of_issue", "District", "Category"))
Metrics <- Metrics[Metrics$AUROC>0.5,]
Metrics.1 <- Metrics[,c(1:5,15:18,20)]
Metrics.1$Predict <- ifelse(Metrics.1$Probability>Metrics.1$Trigger,1,0)
Metrics.1.dcast <- dcast(Metrics.1, Index + Month_of_issue + District + Category + Years + Actual + Probability + Actual_Drought ~ Trigger, value.var = "Predict")
colnames(Metrics.1.dcast)[5:79] <- c("Year","Actual SPI Value","Probability", "Actual Drought",paste(as.character(as.numeric(as.character(colnames(Metrics.1.dcast[9:79])))*100),"%",sep=""))
new.data.dcast <- SharedData$new(Metrics.1.dcast)
View(SPI_probabilities.ad)
View(SPI_probabilities)
# probabilities
SPI_probabilities <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities/SPI_probabilities.csv")
View(SPI_probabilities)
issues <- paste("issued",c("05","06","07","08","09","10","11","12","01","02"),sep="")
intensity <- c(".csv","_085.csv","_068.csv") # severe,moderate,mild
Districts <- c("Chibuto","Guija","Changara","Marara")
df.all <- data.frame()
newproj <- " +proj=longlat +ellps=clrk66 +towgs84=-80,-100,-228,0,0,0,0 +no_defs "
is<-1
int<-1
print(is)
severity <- ifelse(int==1,"Severe",ifelse(int==2,"Moderate","Mild"))
csvpath <- paste("C:/Data_Backup13June21/Mozambique_outputs/final output/Outputs/",issues[is],"/ECMWF_SPI_Probability/",severity,sep="")
listcsv <- list.files(csvpath, pattern=NULL, all.files=FALSE,full.names=FALSE)
setwd(csvpath)
csvpath
issues <- paste("issued",c("05","06","07","08","09","10","11","12","01","02"),sep="")
intensity <- c(".csv","_085.csv","_068.csv") # severe,moderate,mild
Districts <- c("Chibuto","Guija","Changara","Marara")
df.all <- data.frame()
newproj <- " +proj=longlat +ellps=clrk66 +towgs84=-80,-100,-228,0,0,0,0 +no_defs "
f <- 1
for (is in 1:length(issues)){
for (int in 1:length(intensity)){
print(is)
severity <- ifelse(int==1,"Severe",ifelse(int==2,"Moderate","Mild"))
csvpath <- paste("C:/Data_Backup13June21/Mozambique_outputs/final output/Outputs/",issues[is],"/ECMWF_SPI_Probability/",severity,sep="")
listcsv <- list.files(csvpath, pattern=NULL, all.files=FALSE,full.names=FALSE)
setwd(csvpath)
for (i in 1:length(listcsv)){
df <- read.csv(listcsv[i])
dfr <- rasterFromXYZ(df)
crs(dfr) <- newproj
for (dis in 1:length(Districts)){
District.select <- subset(Admin2, ADM2_PT==Districts[dis])
dfr.mask <- mask(dfr,District.select)
for (m in 1:length(names(dfr.mask))){
df.all[f,1] <- gsub("X","",names(dfr.mask)[m])
val2 <- getValues(dfr.mask[[m]]) #get raster values
df.all[f,2] <- round(mean(val2,na.rm=T),2) #remove NAs and compute mean
name <- gsub("Predict.Rain.","SPI ",listcsv[i])
name <- gsub("_probabilities.csv","",name)
df.all[f,3] <- name
countword <- sapply(strsplit(name, ""), length)
df.all[f,4] <- ifelse(countword==7,"SPI 3","SPI 2")
df.all[f,5] <- Districts[dis]
df.all[f,6] <- c("05","06","07","08","09","10","11","12","01","02")[is]
df.all[f,7] <- ifelse(int==1,"Severo",ifelse(int==2,"Moderado","Leve"))
f <- f+1
}
}
}
}
}
colnames(df.all) <- c("Year_of_issue","Probability","Index","Aggregation","District","Month_of_issue","Category")
df.all <- df.all[df.all$Index %in% c("SPI ON","SPI ND","SPI DJ","SPI JF","SPI FM","SPI OND","SPI NDJ","SPI DJF","SPI JFM"),]
setwd("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities")
write.csv(df.all,"SPI_probabilities.csv",row.names=F)
# libraries
require(rgdal)
require(raster)
require(stringr)
issues <- paste("issued",c("05","06","07","08","09","10","11","12","01","02"),sep="")
intensity <- c(".csv","_085.csv","_068.csv") # severe,moderate,mild
Districts <- c("Chibuto","Guija","Changara","Marara")
df.all <- data.frame()
newproj <- " +proj=longlat +ellps=clrk66 +towgs84=-80,-100,-228,0,0,0,0 +no_defs "
f <- 1
for (is in 1:length(issues)){
for (int in 1:length(intensity)){
print(is)
severity <- ifelse(int==1,"Severe",ifelse(int==2,"Moderate","Mild"))
csvpath <- paste("C:/Data_Backup13June21/Mozambique_outputs/final output/Outputs/",issues[is],"/ECMWF_SPI_Probability/",severity,sep="")
listcsv <- list.files(csvpath, pattern=NULL, all.files=FALSE,full.names=FALSE)
setwd(csvpath)
for (i in 1:length(listcsv)){
df <- read.csv(listcsv[i])
dfr <- rasterFromXYZ(df)
crs(dfr) <- newproj
for (dis in 1:length(Districts)){
District.select <- subset(Admin2, ADM2_PT==Districts[dis])
dfr.mask <- mask(dfr,District.select)
for (m in 1:length(names(dfr.mask))){
df.all[f,1] <- gsub("X","",names(dfr.mask)[m])
val2 <- getValues(dfr.mask[[m]]) #get raster values
df.all[f,2] <- round(mean(val2,na.rm=T),2) #remove NAs and compute mean
name <- gsub("Predict.Rain.","SPI ",listcsv[i])
name <- gsub("_probabilities.csv","",name)
df.all[f,3] <- name
countword <- sapply(strsplit(name, ""), length)
df.all[f,4] <- ifelse(countword==7,"SPI 3","SPI 2")
df.all[f,5] <- Districts[dis]
df.all[f,6] <- c("05","06","07","08","09","10","11","12","01","02")[is]
df.all[f,7] <- ifelse(int==1,"Severo",ifelse(int==2,"Moderado","Leve"))
f <- f+1
}
}
}
}
}
colnames(df.all) <- c("Year_of_issue","Probability","Index","Aggregation","District","Month_of_issue","Category")
df.all <- df.all[df.all$Index %in% c("SPI ON","SPI ND","SPI DJ","SPI JF","SPI FM","SPI OND","SPI NDJ","SPI DJF","SPI JFM"),]
setwd("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities")
write.csv(df.all,"SPI_probabilities.csv",row.names=F)
Admin2 <- readOGR(dsn= "C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/Shapefiles/Admin/moz_admbnda_2019_SHP" , layer="moz_admbnda_adm2_2019",  verbose=FALSE) # shapefile mozambique ADMIN2
issues <- paste("issued",c("05","06","07","08","09","10","11","12","01","02"),sep="")
intensity <- c(".csv","_085.csv","_068.csv") # severe,moderate,mild
Districts <- c("Chibuto","Guija","Changara","Marara")
df.all <- data.frame()
newproj <- " +proj=longlat +ellps=clrk66 +towgs84=-80,-100,-228,0,0,0,0 +no_defs "
f <- 1
for (is in 1:length(issues)){
for (int in 1:length(intensity)){
print(is)
severity <- ifelse(int==1,"Severe",ifelse(int==2,"Moderate","Mild"))
csvpath <- paste("C:/Data_Backup13June21/Mozambique_outputs/final output/Outputs/",issues[is],"/ECMWF_SPI_Probability/",severity,sep="")
listcsv <- list.files(csvpath, pattern=NULL, all.files=FALSE,full.names=FALSE)
setwd(csvpath)
for (i in 1:length(listcsv)){
df <- read.csv(listcsv[i])
dfr <- rasterFromXYZ(df)
crs(dfr) <- newproj
for (dis in 1:length(Districts)){
District.select <- subset(Admin2, ADM2_PT==Districts[dis])
dfr.mask <- mask(dfr,District.select)
for (m in 1:length(names(dfr.mask))){
df.all[f,1] <- gsub("X","",names(dfr.mask)[m])
val2 <- getValues(dfr.mask[[m]]) #get raster values
df.all[f,2] <- round(mean(val2,na.rm=T),2) #remove NAs and compute mean
name <- gsub("Predict.Rain.","SPI ",listcsv[i])
name <- gsub("_probabilities.csv","",name)
df.all[f,3] <- name
countword <- sapply(strsplit(name, ""), length)
df.all[f,4] <- ifelse(countword==7,"SPI 3","SPI 2")
df.all[f,5] <- Districts[dis]
df.all[f,6] <- c("05","06","07","08","09","10","11","12","01","02")[is]
df.all[f,7] <- ifelse(int==1,"Severo",ifelse(int==2,"Moderado","Leve"))
f <- f+1
}
}
}
}
}
colnames(df.all) <- c("Year_of_issue","Probability","Index","Aggregation","District","Month_of_issue","Category")
df.all <- df.all[df.all$Index %in% c("SPI ON","SPI ND","SPI DJ","SPI JF","SPI FM","SPI OND","SPI NDJ","SPI DJF","SPI JFM"),]
setwd("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities")
write.csv(df.all,"SPI_probabilities.csv",row.names=F)
View(SPI_probabilities)
dfr.mask
names(dfr.mask)
is<-6
int<-1
print(is)
severity <- ifelse(int==1,"Severe",ifelse(int==2,"Moderate","Mild"))
csvpath <- paste("C:/Data_Backup13June21/Mozambique_outputs/final output/Outputs/",issues[is],"/ECMWF_SPI_Probability/",severity,sep="")
listcsv <- list.files(csvpath, pattern=NULL, all.files=FALSE,full.names=FALSE)
setwd(csvpath)
listcsv
print(is)
severity <- ifelse(int==1,"Severe",ifelse(int==2,"Moderate","Mild"))
csvpath <- paste("C:/Data_Backup13June21/Mozambique_outputs/final output/Outputs/",issues[is],"/ECMWF_SPI_Probability/",severity,sep="")
listcsv <- list.files(csvpath, pattern=NULL, all.files=FALSE,full.names=FALSE)
setwd(csvpath)
df <- read.csv(listcsv[i])
dfr <- rasterFromXYZ(df)
crs(dfr) <- newproj
dis<-1
District.select <- subset(Admin2, ADM2_PT==Districts[dis])
dfr.mask <- mask(dfr,District.select)
names(dfr.mask)
csvpath
listcsv
i<-2
df <- read.csv(listcsv[i])
dfr <- rasterFromXYZ(df)
crs(dfr) <- newproj
dfr
District.select
District.select <- subset(Admin2, ADM2_PT==Districts[dis])
dfr.mask <- mask(dfr,District.select)
1:length(names(dfr.mask)))
1:length(names(dfr.mask))
m<-1
gsub("X","",names(dfr.mask)[m])
View(df.all)
colnames(df.all) <- c("Year_of_issue","Probability","Index","Aggregation","District","Month_of_issue","Category")
df.all <- df.all[df.all$Index %in% c("SPI ON","SPI ND","SPI DJ","SPI JF","SPI FM","SPI OND","SPI NDJ","SPI DJF","SPI JFM"),]
setwd("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities")
write.csv(df.all,"SPI_probabilities.csv",row.names=F)
SPI_probabilities <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities/SPI_probabilities.csv")
View(SPI_probabilities)
# probabilities
SPI_probabilities <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities/SPI_probabilities.csv")
SPI_probabilities.Gaza <- SPI_probabilities[SPI_probabilities$District %in% c("Chibuto","Guija"),]
setwd("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities")
write.csv(SPI_probabilities.Gaza,"SPI_probabilities.Gaza.csv",row.names=F)
View(SPI_probabilities.Gaza)
library(knitr)
library(kableExtra)
library(flexdashboard)
library(tidyverse)
library(plotly)
library(crosstalk)
library(ggthemes)
library(dplyr)
library(DT)
library(tidyverse)
library(reactable)
library(reshape2)
knitr::opts_chunk$set(echo = FALSE)
# SPI indicators
SPI_observations <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Observations/SPI_observations.csv")
SPI_observations <- SPI_observations[SPI_observations$District%in%c("Chibuto","Guija"),]
# SPI probability
SPI_probabilities <- read.csv("C:/Users/gabriela.nobre/OneDrive - World Food Programme/Mozambique/FbF/Seasonal Forecasts/Dataset/FbF_Pilot_MockUp/Probabilities/SPI_probabilities.Gaza.csv")
